<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-1.0.5 plugin-docs plugin-id-default docs-doc-id-Reference/Docker Setup">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Docker Setup | SynapseML</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://microsoft.github.io/SynapseML/img/synapseml_og.jpg"><meta data-rh="true" name="twitter:image" content="https://microsoft.github.io/SynapseML/img/synapseml_og.jpg"><meta data-rh="true" property="og:url" content="https://microsoft.github.io/SynapseML/docs/1.0.5/Reference/Docker Setup/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.0.5"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.0.5"><meta data-rh="true" name="docsearch:version" content="1.0.5"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.0.5"><meta data-rh="true" property="og:title" content="Docker Setup | SynapseML"><meta data-rh="true" name="description" content="Docker Setup"><meta data-rh="true" property="og:description" content="Docker Setup"><link data-rh="true" rel="icon" href="/SynapseML/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://microsoft.github.io/SynapseML/docs/1.0.5/Reference/Docker Setup/"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/SynapseML/docs/1.0.5/Reference/Docker Setup/" hreflang="en"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/SynapseML/docs/1.0.5/Reference/Docker Setup/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://GBW8AA15RD-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/SynapseML/blog/rss.xml" title="SynapseML RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/SynapseML/blog/atom.xml" title="SynapseML Atom Feed">
<link rel="alternate" type="application/json" href="/SynapseML/blog/feed.json" title="SynapseML JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RWPE0183E8"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RWPE0183E8",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="SynapseML" href="/SynapseML/opensearch.xml">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><link rel="stylesheet" href="/SynapseML/assets/css/styles.2c553299.css">
<link rel="preload" href="/SynapseML/assets/js/runtime~main.da6ea0e6.js" as="script">
<link rel="preload" href="/SynapseML/assets/js/main.876959b5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like SynapseML, consider giving it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/Microsoft/SynapseML">GitHub</a> ⭐</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/SynapseML/"><div class="navbar__logo"><img src="/SynapseML/img/logo.svg" alt="SynapseML Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/SynapseML/img/logo.svg" alt="SynapseML Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">SynapseML</b></a><a class="navbar__item navbar__link" href="/SynapseML/docs/Overview/">Docs</a><a class="navbar__item navbar__link" href="/SynapseML/blog/">Blog</a><a class="navbar__item navbar__link" href="/SynapseML/videos/">Videos</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/SynapseML/docs/1.0.5/Overview/">1.0.5</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/SynapseML/docs/next/Reference/Docker Setup/">Next</a></li><li><a class="dropdown__link" href="/SynapseML/docs/Reference/Docker Setup/">v1.0.11</a></li><li><a class="dropdown__link" href="/SynapseML/docs/1.0.10/Reference/Docker Setup/">1.0.10</a></li><li><a class="dropdown__link" href="/SynapseML/docs/1.0.9/Reference/Docker Setup/">1.0.9</a></li><li><a class="dropdown__link" href="/SynapseML/docs/1.0.8/Reference/Docker Setup/">1.0.8</a></li><li><a class="dropdown__link" href="/SynapseML/docs/1.0.7/Reference/Docker Setup/">1.0.7</a></li><li><a class="dropdown__link" href="/SynapseML/docs/1.0.6/Reference/Docker Setup/">1.0.6</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/SynapseML/docs/1.0.5/Reference/Docker Setup/">1.0.5</a></li><li><a class="dropdown__link" href="/SynapseML/docs/1.0.4/Reference/Docker Setup/">1.0.4</a></li><li><a class="dropdown__link" href="/SynapseML/docs/1.0.3/Reference/Docker Setup/">1.0.3</a></li><li><a class="dropdown__link" href="/SynapseML/docs/1.0.2/Reference/Docker Setup/">1.0.2</a></li><li><a class="dropdown__link" href="/SynapseML/docs/1.0.1/Reference/Docker Setup/">1.0.1</a></li><li><a class="dropdown__link" href="/SynapseML/docs/0.11.4/Reference/Docker Setup/">0.11.4</a></li><li><a class="dropdown__link" href="/SynapseML/docs/0.11.3/Reference/Docker Setup/">0.11.3</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/SynapseML/docs/1.0.5/Reference/Docker Setup/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Developer Docs</a><ul class="dropdown__menu"><li><a href="https://mmlspark.blob.core.windows.net/docs/1.0.11/pyspark/index.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Python<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://mmlspark.blob.core.windows.net/docs/1.0.11/scala/com/microsoft/azure/synapse/ml/index.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Scala<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/microsoft/SynapseML" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/SynapseML/docs/1.0.5/Overview/">What is SynapseML?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/SynapseML/docs/1.0.5/Get Started/Create a Spark Cluster/">Get Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/SynapseML/docs/1.0.5/Explore Algorithms/LightGBM/Overview/">Explore Algorithms</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/SynapseML/docs/1.0.5/Use with MLFlow/Overview/">Use with MLFlow</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/SynapseML/docs/1.0.5/Deploy Models/Overview/">Deploy Models</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/SynapseML/docs/1.0.5/Reference/Contributor Guide/">Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/SynapseML/docs/1.0.5/Reference/Contributor Guide/">Contributor Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/SynapseML/docs/1.0.5/Reference/Developer Setup/">Developer Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/SynapseML/docs/1.0.5/Reference/Docker Setup/">Docker Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/SynapseML/docs/1.0.5/Reference/R Setup/">R setup</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->SynapseML<!-- --> <b>1.0.5</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/SynapseML/docs/Reference/Docker Setup/">latest version</a></b> (<!-- -->v1.0.11<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/SynapseML/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Docker Setup</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.0.5</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Docker Setup</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="quickstart-install-and-run-the-docker-image">Quickstart: install and run the Docker image<a href="#quickstart-install-and-run-the-docker-image" class="hash-link" aria-label="Direct link to Quickstart: install and run the Docker image" title="Direct link to Quickstart: install and run the Docker image">​</a></h2><p>Begin by installing <a href="http://www.docker.com/products/overview/" target="_blank" rel="noopener noreferrer">Docker for your OS</a>.  Then, to get the
SynapseML image and run it, open a terminal (PowerShell/cmd on Windows) and run</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:rgb(166, 226, 46)">docker</span><span class="token plain"> run -it -p </span><span class="token number" style="color:rgb(174, 129, 255)">8888</span><span class="token plain">:8888 mcr.microsoft.com/mmlspark/release</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In your browser, go to <a href="http://localhost:8888/" target="_blank" rel="noopener noreferrer">http://localhost:8888/</a> —you&#x27;ll see the Docker image
EULA, and once you accept it, the Jupyter notebook interface will start.  To
skip this step, add <code>-e ACCEPT_EULA=yes</code> to the Docker command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:rgb(166, 226, 46)">docker</span><span class="token plain"> run -it -p </span><span class="token number" style="color:rgb(174, 129, 255)">8888</span><span class="token plain">:8888 -e </span><span class="token assign-left variable" style="color:rgb(248, 248, 242)">ACCEPT_EULA</span><span class="token operator">=</span><span class="token plain">y mcr.microsoft.com/mmlspark/release</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can now select one of the sample notebooks and run it, or create your own.</p><blockquote><p>Note: The EULA is needed only for running the SynapseML Docker image; the
source code is released under the MIT license (see the <a href="https://github.com/microsoft/SynapseML/blob/master/LICENSE" target="_blank" rel="noopener noreferrer">LICENSE</a>
file).</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-a-specific-version">Running a specific version<a href="#running-a-specific-version" class="hash-link" aria-label="Direct link to Running a specific version" title="Direct link to Running a specific version">​</a></h2><p>In the preceding docker command, <code>mcr.microsoft.com/mmlspark/release</code> specifies the project and image name that you
want to run.  There&#x27;s another component implicit here: the <em>tsag</em> (=
version) that you want to use. Specifying it explicitly looks like
<code>mcr.microsoft.com/mmlspark/release:1.0.5</code> for the <code>1.0.5</code> tag.</p><p>Leaving <code>mcr.microsoft.com/mmlspark/release</code> by itself has an implicit <code>latest</code> tag, so it&#x27;s
equivalent to <code>mcr.microsoft.com/mmlspark/release:latest</code>.  The <code>latest</code> tag is identical to the
most recent stable SynapseML version.  You can see the current <!-- -->[synapsemltags]<!-- --> on
our <a href="https://hub.docker.com/r/microsoft/mmlspark/" target="_blank" rel="noopener noreferrer">Docker Hub repository</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="a-more-practical-example">A more practical example<a href="#a-more-practical-example" class="hash-link" aria-label="Direct link to A more practical example" title="Direct link to A more practical example">​</a></h2><p>The previous section had a rather simplistic command.  A more complete command
that you&#x27;ll probably want to use can look as follows:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:rgb(166, 226, 46)">docker</span><span class="token plain"> run -it --rm </span><span class="token punctuation" style="color:rgb(249, 38, 114)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">           -p </span><span class="token number" style="color:rgb(174, 129, 255)">127.0</span><span class="token plain">.0.1:80:8888 </span><span class="token punctuation" style="color:rgb(249, 38, 114)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">           -v ~/myfiles:/notebooks/myfiles </span><span class="token punctuation" style="color:rgb(249, 38, 114)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">           mcr.microsoft.com/mmlspark/release:1.0.5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this example, backslashes are for readability; you
can enter the command as one long line if you like.  In PowerShell, the <code>myfiles</code> local
path and line breaks looks a little different:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">docker run -it --rm `</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">           -p 127.0.0.1:80:8888 `</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">           -v C:\myfiles:/notebooks/myfiles `</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">           mcr.microsoft.com/mmlspark/release:1.0.5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s break this command and go over the meaning of each part:</p><ul><li><p><strong><code>-it</code></strong></p><p>This command uses a combination of <code>-i</code> and <code>-t</code> (which could also be specified as
<code>--interactive --tty</code>).  Combining these two flags means that the
image is running interactively, which in this example means that you can see
messages that the server emits, and it also makes it possible to use
<code>Ctrl+C</code> to shut down the Jupyter notebook server.</p></li><li><p><strong><code>--rm</code></strong></p><p>When Docker runs any image, it creates a <em>container</em> to hold any further
filesystem data for files that were created or modified.  If you ran the above
quickstart command, you can see the container that is left behind with <code>docker
container list -a</code>.  You can reclaim such containers with `docker container rm</p><id></id>`, or reclaim all containers from stopped run with `docker container prune`, or even more generally, reclaim all unused Docker resources with `docker system prune`.<p>Back to <code>--rm</code>: this flag tells Docker to discard the image when the image
exits, which means that any data created while
running the image is discarded when the run is done. But see the description
of the <code>-v</code> flag.</p></li><li><p><strong><code>-e ACCEPT_EULA=y</code></strong></p><p>The <code>-e</code> flag is used to set environment variables in the running container.
In this case, we use it to bypass the EULA check.  More flags can be
added for other variables, for example, you can add a <code>-e
MMLSPARK_JUPYTER_PORT=80</code> to change the port that the Jupyter server listens
to.</p></li><li><p><strong><code>-p 127.0.0.1:80:8888</code></strong></p><p>The Jupyter server in the SynapseML image listens to port 8888, but that is
normally isolated from the actual network.  Previously, we have used <code>-p
8888:8888</code> to say that we want to map port 8888 (LHS) on our actual machine to
port 8888 (RHS) in the container.  One problem with this is that <code>8888</code> might
be hard to remember, but a more serious problem is that your machine now
serves the Jupyter interface to any one on your network.</p><p>This more complete example resolves these issues: we replaced <code>8888:8888</code> with
<code>80:8888</code> so HTTP port 80 goes to the container&#x27;s running Jupyter (making just
<a href="http://localhost/" target="_blank" rel="noopener noreferrer">http://localhost/</a> work); and we also added a <code>127.0.0.1:</code> prefix to make the
Jupyter inteface available only from your own machine rather than the whole network.</p><p>You can repeat this flag to forward additional ports similarly.  For example,
you can expose some of the <a href="https://spark.apache.org/docs/latest/security.html#configuring-ports-for-network-security" target="_blank" rel="noopener noreferrer">Spark ports</a>, for example: <code>-p 127.0.0.1:4040:4040</code>.</p></li><li><p><strong><code>-v ~/myfiles:/notebooks/myfiles</code></strong></p><p>As described earlier, we&#x27;re using <code>--rm</code> to remove the container when the run
exits, which is usually fine since pulling out files from these containers can
be a little complicated.  Instead, we use the -v flag to map a directory from
your machine (the <code>~/myfiles</code> on the LHS) to a directory that is available
inside the running container.  Any modifications to this directory that are
done by the Docker image are performed directly on the actual directory.</p><p>The local directory follows the local filename conventions, so on
Windows you&#x27;d use a Windows-looking path.  On Windows, you also need to share
the drive you want to use in the <a href="https://docs.docker.com/docker-for-windows/#docker-settings" target="_blank" rel="noopener noreferrer">Docker settings</a>.</p><p>The path on the right side is used inside the container and it&#x27;s therefore a
Linux path.  The SynapseML image runs Jupyter in the <code>/notebooks</code> directory, so
it&#x27;s a good place for making your files available conveniently.</p><p>This flag can be used more than once, to make several directories available in
the running container.  Both paths must be absolute, so if you want to specify
a path relatively, you can use something like <code>-v
$PWD/myfiles:/notebooks/myfiles</code>.</p><p>With such directory sharing in place, you can create/edit notebooks, and code
in notebooks can use the shared directory for additional data, for example:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">data </span><span class="token operator">=</span><span class="token plain"> spark</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">read</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">csv</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token string" style="color:rgb(230, 219, 116)">&#x27;myfiles/mydata.csv&#x27;</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">model</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">write</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">overwrite</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">save</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token string" style="color:rgb(230, 219, 116)">&#x27;myfiles/myTrainedModel.mml&#x27;</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><strong><code>mcr.microsoft.com/mmlspark/release:1.0.5</code></strong></p><p>Finally, this argument specifies an explicit version tag for the image that we want to
run.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-container-as-a-server">Running the container as a server<a href="#running-the-container-as-a-server" class="hash-link" aria-label="Direct link to Running the container as a server" title="Direct link to Running the container as a server">​</a></h2><p>An alternative to running the Docker image interactively with <code>-it</code> is running
it in a &quot;detached&quot; mode, as a server, using the <code>-d</code> (or <code>--detach</code>) flag.
A second flag that may be useful here is <code>--name</code>, which gives a convenient
label to the running image:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:rgb(166, 226, 46)">docker</span><span class="token plain"> run -d --name my-synapseml </span><span class="token punctuation" style="color:rgb(249, 38, 114)">..</span><span class="token plain">.flags</span><span class="token punctuation" style="color:rgb(249, 38, 114)">..</span><span class="token plain">. mcr.microsoft.com/mmlspark/release</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When running in this mode, you can use</p><ul><li><p><code>docker stop my-synapseml</code>:  to stop the image</p></li><li><p><code>docker start my-synapseml</code>: to start it again</p></li><li><p><code>docker logs my-synapseml</code>:  to see the log output it produced</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-other-commands-in-an-active-container">Running other commands in an active container<a href="#running-other-commands-in-an-active-container" class="hash-link" aria-label="Direct link to Running other commands in an active container" title="Direct link to Running other commands in an active container">​</a></h2><p>Another useful <code>docker</code> command is <code>exec</code>, which runs a command in the context
of an <em>existing</em> active container.  To use it, you specify the container name
and the command to run.  For example, with an already running detached container
named my-synapseml, you can use</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:rgb(166, 226, 46)">docker</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(174, 129, 255)">exec</span><span class="token plain"> -it my-synapseml </span><span class="token function" style="color:rgb(166, 226, 46)">bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>to start a shell in the context of the server, roughly equivalent to starting a
terminal in the Jupyter interface.</p><p>Other common Linux executables can be used, for example:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:rgb(166, 226, 46)">docker</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(174, 129, 255)">exec</span><span class="token plain"> -it my-synapseml </span><span class="token function" style="color:rgb(166, 226, 46)">top</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:rgb(166, 226, 46)">docker</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(174, 129, 255)">exec</span><span class="token plain"> my-synapseml </span><span class="token function" style="color:rgb(166, 226, 46)">ps</span><span class="token plain"> auxw</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>(<code>ps</code> doesn&#x27;t need <code>-it</code> since it&#x27;s not an interactive command.)</p><p>These commands can be used with interactive containers too, and <code>--name</code> can be
used to make them easy to target.  If you don&#x27;t use <code>--name</code>, Docker assigns a
random name to the container; you can use <code>docker ps</code> to see it. You can
also get the container IDs to use instead of names.</p><p>Remember that the command given to <code>docker exec</code> is running in the context of
the running container: you can only run executables that exist in the container,
and the run is subject to the same resource restrictions (FS/network access,
etc.) as the container.  The SynapseML image is based on a rather basic Ubuntu
installation (the <code>ubuntu</code> image from Docker Hub).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-other-spark-executables">Running other Spark executables<a href="#running-other-spark-executables" class="hash-link" aria-label="Direct link to Running other Spark executables" title="Direct link to Running other Spark executables">​</a></h2><p><code>docker run</code> can accept another optional argument after the image name,
specifying an alternative executable to run instead of the default launcher that
fires up the Jupyter notebook server.  Using this extra argument you can use the
Spark environment directly in the container:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:rgb(166, 226, 46)">docker</span><span class="token plain"> run -it </span><span class="token punctuation" style="color:rgb(249, 38, 114)">..</span><span class="token plain">.flags</span><span class="token punctuation" style="color:rgb(249, 38, 114)">..</span><span class="token plain">. mcr.microsoft.com/mmlspark/release </span><span class="token function" style="color:rgb(166, 226, 46)">bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This command starts the container with bash instead of Jupyter.  This environment
has all of the Spark executables available in its <code>$PATH</code>.  You still need to
specify the command-line flags that load the SynapseML package, but there are
convenient environment variables that hold the required package and repositories
to use:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">pyspark --repositories </span><span class="token string" style="color:rgb(230, 219, 116)">&quot;</span><span class="token string variable" style="color:rgb(248, 248, 242)">$MML_M2REPOS</span><span class="token string" style="color:rgb(230, 219, 116)">&quot;</span><span class="token plain"> --packages </span><span class="token string" style="color:rgb(230, 219, 116)">&quot;</span><span class="token string variable" style="color:rgb(248, 248, 242)">$MML_PACKAGE</span><span class="token string" style="color:rgb(230, 219, 116)">&quot;</span><span class="token plain"> --master </span><span class="token string" style="color:rgb(230, 219, 116)">&quot;local[*]&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Many of the above listed flags are useful in this case too, such as mapping work
directories with <code>-v</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="updating-the-synapseml-image">Updating the SynapseML image<a href="#updating-the-synapseml-image" class="hash-link" aria-label="Direct link to Updating the SynapseML image" title="Direct link to Updating the SynapseML image">​</a></h2><p>New releases of SynapseML are published from time to time, and they include a new
Docker image.  As an image consumer, you&#x27;ll normally not notice such new
versions: <code>docker run</code> will download an image if a copy of it doesn&#x27;t exist
locally, but if it does, then <code>docker run</code> will blindly run it, <em>without</em>
checking for new tags that were pushed.</p><p>Hence you need to explicitly tell Docker to check for a new version
and pull it if one exists.  You do so with the <code>pull</code> command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:rgb(166, 226, 46)">docker</span><span class="token plain"> pull mcr.microsoft.com/mmlspark/release</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Since we didn&#x27;t specify an explicit tag here, <code>docker</code> adds the implied
<code>:latest</code> tag, and checks the available <code>mcr.microsoft.com/mmlspark/release</code> image with this tag
on Docker Hub.  When it finds a different image with this tag, it will fetch a
copy to your machine, changing the image that an unqualified
<code>mcr.microsoft.com/mmlspark/release</code> refers to.</p><p>Docker normally knows only about the tags that it fetched, so if you&#x27;ve always
used <code>mcr.microsoft.com/mmlspark/release</code> to refer to the image without an explicit version tag,
then you wouldn&#x27;t have the version-tagged image too.  Once the tag is updated,
the previous version will still be in your system, only without any tag.  Using
<code>docker images</code> to list the images in your system will now show you two images
for <code>mcr.microsoft.com/mmlspark/release</code>, one with a tag of <code>latest</code> and one with no tag, shown
as <code>&lt;none&gt;</code>.  Assuming that you don&#x27;t have active containers (including detached
ones), <code>docker system prune</code> will remove this untagged image, reclaiming the
used space.</p><p>If you&#x27;ve used an explicit version tag, then it will still exist after a new
pull, which means that you can continue using this version.  If you
used an unqualified name first and then a version-tagged one, Docker will fetch
both tags. Only the second fetch is fast since it points to content that
was already loaded.  In this case, doing a <code>pull</code> when there&#x27;s a new version
will fetch the new <code>latest</code> tag and change its meaning to the newer version, but
the older version will still be available under its own version tag.</p><p>Finally, if there are such version-tagged older versions that you want to get
rid of, you can use <code>docker images</code> to check the list of installed images and
their tags, and <code>docker rmi &lt;name&gt;:&lt;tag&gt;</code> to remove the unwanted ones.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="a-note-about-security">A note about security<a href="#a-note-about-security" class="hash-link" aria-label="Direct link to A note about security" title="Direct link to A note about security">​</a></h2><p>Executing code in a Docker container can be unsafe if the running user is
<code>root</code>.  For this reason, the SynapseML image uses a proper username instead.  If
you still want to run as root (for instance, if you want to <code>apt install</code> an
another ubuntu package), then you should use <code>--user root</code>.  This mode can be useful
when combined with <code>docker exec</code> to perform administrative work while the image
continues to run as usual.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="further-reading">Further reading<a href="#further-reading" class="hash-link" aria-label="Direct link to Further reading" title="Direct link to Further reading">​</a></h2><p>This text briefly covers some of the useful things that you can do with the
SynapseML Docker image (and other images in general).  You can find much more
documentation <a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer">online</a>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/SynapseML/docs/1.0.5/Reference/Developer Setup/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Developer Setup</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/SynapseML/docs/1.0.5/Reference/R Setup/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">R setup</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#quickstart-install-and-run-the-docker-image" class="table-of-contents__link toc-highlight">Quickstart: install and run the Docker image</a></li><li><a href="#running-a-specific-version" class="table-of-contents__link toc-highlight">Running a specific version</a></li><li><a href="#a-more-practical-example" class="table-of-contents__link toc-highlight">A more practical example</a></li><li><a href="#running-the-container-as-a-server" class="table-of-contents__link toc-highlight">Running the container as a server</a></li><li><a href="#running-other-commands-in-an-active-container" class="table-of-contents__link toc-highlight">Running other commands in an active container</a></li><li><a href="#running-other-spark-executables" class="table-of-contents__link toc-highlight">Running other Spark executables</a></li><li><a href="#updating-the-synapseml-image" class="table-of-contents__link toc-highlight">Updating the SynapseML image</a></li><li><a href="#a-note-about-security" class="table-of-contents__link toc-highlight">A note about security</a></li><li><a href="#further-reading" class="table-of-contents__link toc-highlight">Further reading</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/SynapseML/docs/Get Started/Install SynapseML/">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/SynapseML/docs/Get Started/Quickstart - Your First Models/">Getting Started</a></li><li class="footer__item"><a href="https://mmlspark.blob.core.windows.net/docs/1.0.11/pyspark/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Python API Reference</a></li><li class="footer__item"><a href="https://mmlspark.blob.core.windows.net/docs/1.0.11/scala/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Scala API Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/SynapseML/blog/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/SynapseML/videos/">Videos</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/microsoft/SynapseML" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Microsoft.</div></div></div></footer></div>
<script src="/SynapseML/assets/js/runtime~main.da6ea0e6.js"></script>
<script src="/SynapseML/assets/js/main.876959b5.js"></script>
</body>
</html>