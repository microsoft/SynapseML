<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-0.10.1 plugin-docs plugin-id-default docs-doc-id-reference/dotnet-setup">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">.NET setup | SynapseML</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://microsoft.github.io/SynapseML/img/synapseml_og.jpg"><meta data-rh="true" name="twitter:image" content="https://microsoft.github.io/SynapseML/img/synapseml_og.jpg"><meta data-rh="true" property="og:url" content="https://microsoft.github.io/SynapseML/docs/0.10.1/reference/dotnet-setup/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="0.10.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.10.1"><meta data-rh="true" name="docsearch:version" content="0.10.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.10.1"><meta data-rh="true" property="og:title" content=".NET setup | SynapseML"><meta data-rh="true" name="description" content=".NET setup and example for SynapseML"><meta data-rh="true" property="og:description" content=".NET setup and example for SynapseML"><link data-rh="true" rel="icon" href="/SynapseML/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://microsoft.github.io/SynapseML/docs/0.10.1/reference/dotnet-setup/"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/SynapseML/docs/0.10.1/reference/dotnet-setup/" hreflang="en"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/SynapseML/docs/0.10.1/reference/dotnet-setup/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://GBW8AA15RD-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/SynapseML/blog/rss.xml" title="SynapseML RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/SynapseML/blog/atom.xml" title="SynapseML Atom Feed">
<link rel="alternate" type="application/json" href="/SynapseML/blog/feed.json" title="SynapseML JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RWPE0183E8"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RWPE0183E8",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="SynapseML" href="/SynapseML/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><link rel="stylesheet" href="/SynapseML/assets/css/styles.70cbcc49.css">
<link rel="preload" href="/SynapseML/assets/js/runtime~main.569bcb5b.js" as="script">
<link rel="preload" href="/SynapseML/assets/js/main.c6c13a75.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like SynapseML, consider giving it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/Microsoft/SynapseML">GitHub</a> ⭐</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/SynapseML/"><div class="navbar__logo"><img src="/SynapseML/img/logo.svg" alt="SynapseML Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/SynapseML/img/logo.svg" alt="SynapseML Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">SynapseML</b></a><a class="navbar__item navbar__link" href="/SynapseML/docs/about/">Docs</a><a class="navbar__item navbar__link" href="/SynapseML/blog/">Blog</a><a class="navbar__item navbar__link" href="/SynapseML/videos/">Videos</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/SynapseML/docs/0.10.1/about/">0.10.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/SynapseML/docs/next/reference/dotnet-setup/">Next</a></li><li><a class="dropdown__link" href="/SynapseML/docs/reference/dotnet-setup/">0.11.1</a></li><li><a class="dropdown__link" href="/SynapseML/docs/0.11.0/reference/dotnet-setup/">0.11.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/SynapseML/docs/0.10.1/reference/dotnet-setup/">0.10.1</a></li><li><a class="dropdown__link" href="/SynapseML/docs/0.10.0/reference/dotnet-setup/">0.10.0</a></li><li><a class="dropdown__link" href="/SynapseML/docs/0.9.5/about/">0.9.5</a></li><li><a class="dropdown__link" href="/SynapseML/docs/0.9.4/about/">0.9.4</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/SynapseML/docs/0.10.1/reference/dotnet-setup/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Developer Docs</a><ul class="dropdown__menu"><li><a href="https://mmlspark.blob.core.windows.net/docs/0.11.1/pyspark/index.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Python<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://mmlspark.blob.core.windows.net/docs/0.11.1/scala/com/microsoft/azure/synapse/ml/index.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Scala<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://mmlspark.blob.core.windows.net/docs/0.11.1/dotnet/index.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">C#<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/microsoft/SynapseML" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/SynapseML/docs/0.10.1/about/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/SynapseML/docs/0.10.1/getting_started/installation/">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/SynapseML/docs/0.10.1/features/cognitive_services/CognitiveServices - Analyze Text/">Features</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/SynapseML/docs/0.10.1/documentation/transformers/transformers_cognitive/">Transformers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/SynapseML/docs/0.10.1/documentation/estimators/estimators_cognitive/">Estimators</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/SynapseML/docs/0.10.1/mlflow/introduction/">MLflow</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/SynapseML/docs/0.10.1/reference/developer-readme/">Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/SynapseML/docs/0.10.1/reference/developer-readme/">Build System Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/SynapseML/docs/0.10.1/reference/contributing_guide/">Contributing Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/SynapseML/docs/0.10.1/reference/docker/">Docker Image</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/SynapseML/docs/0.10.1/reference/R-setup/">R setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/SynapseML/docs/0.10.1/reference/dotnet-setup/">.NET setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/SynapseML/docs/0.10.1/reference/SAR/">SAR Algorithm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/SynapseML/docs/0.10.1/reference/cyber/">CyberML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/SynapseML/docs/0.10.1/reference/datasets/">Datasets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/SynapseML/docs/0.10.1/reference/vagrant/">Vagrant</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->SynapseML<!-- --> <b>0.10.1</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/SynapseML/docs/reference/dotnet-setup/">latest version</a></b> (<!-- -->0.11.1<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/SynapseML/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">.NET setup</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 0.10.1</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>.NET setup and example for SynapseML</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a class="hash-link" href="#installation" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-install-net">1. Install .NET<a class="hash-link" href="#1-install-net" title="Direct link to heading">​</a></h3><p>To start building .NET apps, you need to download and install the .NET SDK (Software Development Kit).</p><p>Download and install the <a href="https://dotnet.microsoft.com/en-us/download/dotnet/3.1" target="_blank" rel="noopener noreferrer">.NET Core SDK</a>.
Installing the SDK adds the dotnet toolchain to your PATH.</p><p>Once you&#x27;ve installed the .NET Core SDK, open a new command prompt or terminal. Then run <code>dotnet</code>.</p><p>If the command runs and prints information about how to use dotnet, you can move to the next step.
If you receive a <code>&#x27;dotnet&#x27; is not recognized as an internal or external command</code> error, make sure
you opened a new command prompt or terminal before running the command.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-install-java">2. Install Java<a class="hash-link" href="#2-install-java" title="Direct link to heading">​</a></h3><p>Install <a href="https://www.oracle.com/java/technologies/downloads/#java8" target="_blank" rel="noopener noreferrer">Java 8.1</a> for Windows and macOS,
or <a href="https://openjdk.org/install/" target="_blank" rel="noopener noreferrer">OpenJDK 8</a> for Ubuntu.</p><p>Select the appropriate version for your operating system. For example, select jdk-8u201-windows-x64.exe
for a Windows x64 machine or jdk-8u231-macosx-x64.dmg for macOS. Then, use the command java to verify the installation.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-install-apache-spark">3. Install Apache Spark<a class="hash-link" href="#3-install-apache-spark" title="Direct link to heading">​</a></h3><p><a href="https://spark.apache.org/downloads.html" target="_blank" rel="noopener noreferrer">Download and install Apache Spark</a> with version &gt;= 3.2.0.
(SynapseML v0.10.1 only supports spark version &gt;= 3.2.0)</p><p>Extract downloaded zipped files (with 7-Zip app on Windows or <code>tar</code> on linux) and remember the location of
extracted files, we take <code>~/bin/spark-3.2.0-bin-hadoop3.2/</code> as an example here.</p><p>Run the following commands to set the environment variables used to locate Apache Spark.
On Windows, make sure to run the command prompt in administrator mode.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Windows</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Mac/Linux</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">  setx /M HADOOP_HOME C:\bin\spark-3.2.0-bin-hadoop3.2\</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  setx /M SPARK_HOME C:\bin\spark-3.2.0-bin-hadoop3.2\</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  setx /M PATH &quot;%PATH%;%HADOOP_HOME%;%SPARK_HOME%bin&quot; # Warning: Don&#x27;t run this if your path is already long as it will truncate your path to 1024 characters and potentially remove entries!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">  export SPARK_HOME=~/bin/spark-3.2.0-bin-hadoop3.2/</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  export PATH=&quot;$SPARK_HOME/bin:$PATH&quot;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  source ~/.bashrc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><p>Once you&#x27;ve installed everything and set your environment variables, open a <strong>new</strong> command prompt or terminal and run the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">spark-submit --version</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If the command runs and prints version information, you can move to the next step.</p><p>If you receive a <code>&#x27;spark-submit&#x27; is not recognized as an internal or external command</code> error, make sure you opened a <strong>new</strong> command prompt.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-install-net-for-apache-spark">4. Install .NET for Apache Spark<a class="hash-link" href="#4-install-net-for-apache-spark" title="Direct link to heading">​</a></h3><p>Download the <a href="https://github.com/dotnet/spark/releases" target="_blank" rel="noopener noreferrer">Microsoft.Spark.Worker</a> <strong>v2.1.1</strong> release from the .NET for Apache Spark GitHub.
For example if you&#x27;re on a Windows machine and plan to use .NET Core, download the Windows x64 netcoreapp3.1 release.</p><p>Extract Microsoft.Spark.Worker and remember the location.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-install-winutils-windows-only">5. Install WinUtils (Windows Only)<a class="hash-link" href="#5-install-winutils-windows-only" title="Direct link to heading">​</a></h3><p>.NET for Apache Spark requires WinUtils to be installed alongside Apache Spark.
<a href="https://github.com/steveloughran/winutils/blob/master/hadoop-3.0.0/bin/winutils.exe" target="_blank" rel="noopener noreferrer">Download winutils.exe</a>.
Then, copy WinUtils into C:\bin\spark-3.2.0-bin-hadoop3.2\bin.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>If you&#x27;re using a different version of Hadoop, select the version of WinUtils that&#x27;s compatible with your version of Hadoop. You can see the Hadoop version at the end of your Spark install folder name.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-set-dotnet_worker_dir-and-check-dependencies">6. Set DOTNET_WORKER_DIR and check dependencies<a class="hash-link" href="#6-set-dotnet_worker_dir-and-check-dependencies" title="Direct link to heading">​</a></h3><p>Run one of the following commands to set the DOTNET_WORKER_DIR environment variable, which is used by .NET apps to locate .NET for Apache Spark
worker binaries. Make sure to replace &lt;PATH-DOTNET_WORKER_DIR&gt; with the directory where you downloaded and extracted the Microsoft.Spark.Worker.
On Windows, make sure to run the command prompt in administrator mode.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Windows</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Mac/Linux</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">  setx /M DOTNET_WORKER_DIR &lt;PATH-DOTNET-WORKER-DIR&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">  export DOTNET_WORKER_DIR=&lt;PATH-DOTNET-WORKER-DIR&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><p>Finally, double-check that you can run <code>dotnet, java, spark-shell</code> from your command line before you move to the next section.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="write-a-net-for-synapseml-app">Write a .NET for SynapseML App<a class="hash-link" href="#write-a-net-for-synapseml-app" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-create-a-console-app">1. Create a console app<a class="hash-link" href="#1-create-a-console-app" title="Direct link to heading">​</a></h3><p>In your command prompt or terminal, run the following commands to create a new console application:</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">dotnet new console </span><span class="token operator">-</span><span class="token plain">o SynapseMLApp</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">cd SynapseMLApp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>dotnet</code> command creates a new application of type console for you. The -o parameter creates a directory
named <code>SynapseMLApp</code> where your app is stored and populates it with the required files.
The <code>cd SynapseMLApp</code> command changes the directory to the app directory you created.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-install-nuget-package">2. Install NuGet package<a class="hash-link" href="#2-install-nuget-package" title="Direct link to heading">​</a></h3><p>To use .NET for Apache Spark in an app, install the Microsoft.Spark package.
In your command prompt or terminal, run the following command:</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">dotnet add package Microsoft</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">Spark </span><span class="token operator">--</span><span class="token plain">version 2</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">1</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>This tutorial uses Microsoft.Spark version 2.1.1 as SynapseML 0.10.1 depends on it.
Change to corresponding version if necessary.</p></div></div><p>To use SynapseML features in the app, install SynapseML.X package.
In this tutorial, we use SynapseML.Cognitive as an example.
In your command prompt or terminal, run the following command:</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:rgb(136, 132, 111)"># Update Nuget Config to include SynapseML Feed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">dotnet nuget add source https:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token plain">mmlspark</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">blob</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">core</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">windows</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">net/synapsemlnuget/index</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">json </span><span class="token operator">-</span><span class="token plain">n SynapseMLFeed</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">dotnet add package SynapseML</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">Cognitive </span><span class="token operator">--</span><span class="token plain">version 0</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">10</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>dotnet nuget add</code> command adds SynapseML&#x27;s resolver to the source, so that our package can be found.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-write-your-app">3. Write your app<a class="hash-link" href="#3-write-your-app" title="Direct link to heading">​</a></h3><p>Open Program.cs in Visual Studio Code, or any text editor. Replace its contents with this code:</p><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:rgb(249, 38, 114)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token namespace punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token namespace">Collections</span><span class="token namespace punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token namespace">Generic</span><span class="token punctuation" style="color:rgb(249, 38, 114)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword">using</span><span class="token plain"> </span><span class="token namespace">Synapse</span><span class="token namespace punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token namespace">ML</span><span class="token namespace punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token namespace">Cognitive</span><span class="token punctuation" style="color:rgb(249, 38, 114)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword">using</span><span class="token plain"> </span><span class="token namespace">Microsoft</span><span class="token namespace punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token namespace">Spark</span><span class="token namespace punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token namespace">Sql</span><span class="token punctuation" style="color:rgb(249, 38, 114)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword">using</span><span class="token plain"> </span><span class="token namespace">Microsoft</span><span class="token namespace punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token namespace">Spark</span><span class="token namespace punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token namespace">Sql</span><span class="token namespace punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token namespace">Types</span><span class="token punctuation" style="color:rgb(249, 38, 114)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword">namespace</span><span class="token plain"> </span><span class="token namespace">SynapseMLApp</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(249, 38, 114)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">Program</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(249, 38, 114)">{</span><span class="token plain">        </span><span class="token keyword">static</span><span class="token plain"> </span><span class="token return-type class-name keyword">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(166, 226, 46)">Main</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token class-name keyword">string</span><span class="token class-name punctuation" style="color:rgb(249, 38, 114)">[</span><span class="token class-name punctuation" style="color:rgb(249, 38, 114)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(249, 38, 114)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token comment" style="color:rgb(136, 132, 111)">// Create Spark session</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token class-name">SparkSession</span><span class="token plain"> spark </span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                SparkSession</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token function" style="color:rgb(166, 226, 46)">Builder</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token function" style="color:rgb(166, 226, 46)">AppName</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token string" style="color:rgb(230, 219, 116)">&quot;TextSentimentExample&quot;</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token function" style="color:rgb(166, 226, 46)">GetOrCreate</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token punctuation" style="color:rgb(249, 38, 114)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token comment" style="color:rgb(136, 132, 111)">// Create DataFrame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token class-name">DataFrame</span><span class="token plain"> df </span><span class="token operator">=</span><span class="token plain"> spark</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token function" style="color:rgb(166, 226, 46)">CreateDataFrame</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">List</span><span class="token constructor-invocation class-name punctuation" style="color:rgb(249, 38, 114)">&lt;</span><span class="token constructor-invocation class-name">GenericRow</span><span class="token constructor-invocation class-name punctuation" style="color:rgb(249, 38, 114)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(249, 38, 114)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                    </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">GenericRow</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name keyword">object</span><span class="token constructor-invocation class-name punctuation" style="color:rgb(249, 38, 114)">[</span><span class="token constructor-invocation class-name punctuation" style="color:rgb(249, 38, 114)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(249, 38, 114)">{</span><span class="token string" style="color:rgb(230, 219, 116)">&quot;I am so happy today, its sunny!&quot;</span><span class="token punctuation" style="color:rgb(249, 38, 114)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(230, 219, 116)">&quot;en-US&quot;</span><span class="token punctuation" style="color:rgb(249, 38, 114)">}</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token punctuation" style="color:rgb(249, 38, 114)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                    </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">GenericRow</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name keyword">object</span><span class="token constructor-invocation class-name punctuation" style="color:rgb(249, 38, 114)">[</span><span class="token constructor-invocation class-name punctuation" style="color:rgb(249, 38, 114)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(249, 38, 114)">{</span><span class="token string" style="color:rgb(230, 219, 116)">&quot;I am frustrated by this rush hour traffic&quot;</span><span class="token punctuation" style="color:rgb(249, 38, 114)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(230, 219, 116)">&quot;en-US&quot;</span><span class="token punctuation" style="color:rgb(249, 38, 114)">}</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token punctuation" style="color:rgb(249, 38, 114)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                    </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">GenericRow</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name keyword">object</span><span class="token constructor-invocation class-name punctuation" style="color:rgb(249, 38, 114)">[</span><span class="token constructor-invocation class-name punctuation" style="color:rgb(249, 38, 114)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(249, 38, 114)">{</span><span class="token string" style="color:rgb(230, 219, 116)">&quot;The cognitive services on spark aint bad&quot;</span><span class="token punctuation" style="color:rgb(249, 38, 114)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(230, 219, 116)">&quot;en-US&quot;</span><span class="token punctuation" style="color:rgb(249, 38, 114)">}</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(249, 38, 114)">}</span><span class="token punctuation" style="color:rgb(249, 38, 114)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">StructType</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">List</span><span class="token constructor-invocation class-name punctuation" style="color:rgb(249, 38, 114)">&lt;</span><span class="token constructor-invocation class-name">StructField</span><span class="token constructor-invocation class-name punctuation" style="color:rgb(249, 38, 114)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(249, 38, 114)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                    </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">StructField</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token string" style="color:rgb(230, 219, 116)">&quot;text&quot;</span><span class="token punctuation" style="color:rgb(249, 38, 114)">,</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">StringType</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token punctuation" style="color:rgb(249, 38, 114)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                    </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">StructField</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token string" style="color:rgb(230, 219, 116)">&quot;language&quot;</span><span class="token punctuation" style="color:rgb(249, 38, 114)">,</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">StringType</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(249, 38, 114)">}</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token punctuation" style="color:rgb(249, 38, 114)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token comment" style="color:rgb(136, 132, 111)">// Create TextSentiment</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token class-name keyword">var</span><span class="token plain"> model </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">TextSentiment</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token function" style="color:rgb(166, 226, 46)">SetSubscriptionKey</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token string" style="color:rgb(230, 219, 116)">&quot;YOUR_SUBSCRIPTION_KEY&quot;</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token function" style="color:rgb(166, 226, 46)">SetLocation</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token string" style="color:rgb(230, 219, 116)">&quot;eastus&quot;</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token function" style="color:rgb(166, 226, 46)">SetTextCol</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token string" style="color:rgb(230, 219, 116)">&quot;text&quot;</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token function" style="color:rgb(166, 226, 46)">SetOutputCol</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token string" style="color:rgb(230, 219, 116)">&quot;sentiment&quot;</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token function" style="color:rgb(166, 226, 46)">SetErrorCol</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token string" style="color:rgb(230, 219, 116)">&quot;error&quot;</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token function" style="color:rgb(166, 226, 46)">SetLanguageCol</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token string" style="color:rgb(230, 219, 116)">&quot;language&quot;</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token punctuation" style="color:rgb(249, 38, 114)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token comment" style="color:rgb(136, 132, 111)">// Transform</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token class-name keyword">var</span><span class="token plain"> outputDF </span><span class="token operator">=</span><span class="token plain"> model</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token function" style="color:rgb(166, 226, 46)">Transform</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token plain">df</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token punctuation" style="color:rgb(249, 38, 114)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token comment" style="color:rgb(136, 132, 111)">// Display results</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            outputDF</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token function" style="color:rgb(166, 226, 46)">Show</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token punctuation" style="color:rgb(249, 38, 114)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token comment" style="color:rgb(136, 132, 111)">// Stop Spark session</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            spark</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token function" style="color:rgb(166, 226, 46)">Stop</span><span class="token punctuation" style="color:rgb(249, 38, 114)">(</span><span class="token punctuation" style="color:rgb(249, 38, 114)">)</span><span class="token punctuation" style="color:rgb(249, 38, 114)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(249, 38, 114)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(249, 38, 114)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(249, 38, 114)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.spark.sql.sparksession?view=spark-dotnet" target="_blank" rel="noopener noreferrer">SparkSession</a> is the entrypoint
of Apache Spark applications, which manages the context and information of your application. A DataFrame is a way of organizing
data into a set of named columns.</p><p>Create a <a href="https://mmlspark.blob.core.windows.net/docs/0.10.1/dotnet/classSynapse_1_1ML_1_1Cognitive_1_1TextSentiment.html" target="_blank" rel="noopener noreferrer">TextSentiment</a>
instance, set corresponding subscription key and other configurations. Then, apply transformation to the dataframe,
which analyzes the sentiment based on each row, and stores result into output column.</p><p>The result of the transformation is stored in another DataFrame. At this point, no operations have taken place because
.NET for Apache Spark lazily evaluates the data. The operation defined by the call to model.Transform doesn&#x27;t execute until the Show method is called to display the contents of the transformed DataFrame to the console. Once you no longer need the Spark
session, use the Stop method to stop your session.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-run-your-net-app">4. Run your .NET App<a class="hash-link" href="#4-run-your-net-app" title="Direct link to heading">​</a></h3><p>Run the following command to build your application:</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">dotnet build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Navigate to your build output directory. For example, in Windows you could run <code>cd bin\Debug\net5.0</code>.
Use the spark-submit command to submit your application to run on Apache Spark.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">spark-submit </span><span class="token operator">--</span><span class="token keyword">class</span><span class="token plain"> org</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">apache</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">spark</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">deploy</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">dotnet</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">DotnetRunner </span><span class="token operator">--</span><span class="token plain">packages com</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">microsoft</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">azure:synapseml_2</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">12:0</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">10</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">1 </span><span class="token operator">--</span><span class="token plain">master local microsoft-spark-3-2_2</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">12-2</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">1</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">1</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">jar dotnet SynapseMLApp</span><span class="token punctuation" style="color:rgb(249, 38, 114)">.</span><span class="token plain">dll</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>--packages com.microsoft.azure:synapseml_2.12:0.10.1</code> specifies the dependency on synapseml_2.12 version 0.10.1;
<code>microsoft-spark-3-2_2.12-2.1.1.jar</code> specifies Microsoft.Spark version 2.1.1 and Spark version 3.2</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>This command assumes you have downloaded Apache Spark and added it to your PATH environment variable so that you can use spark-submit.
Otherwise, you&#x27;d have to use the full path (for example, C:\bin\apache-spark\bin\spark-submit or ~/spark/bin/spark-submit).</p></div></div><p>When your app runs, the sentiment analysis result is written to the console.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">+-----------------------------------------+--------+-----+--------------------------------------------------+</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">|                                     text|language|error|                                         sentiment|</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">+-----------------------------------------+--------+-----+--------------------------------------------------+</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">|          I am so happy today, its sunny!|   en-US| null|[{positive, null, {0.99, 0.0, 0.0}, [{I am so h...|</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">|I am frustrated by this rush hour traffic|   en-US| null|[{negative, null, {0.0, 0.0, 0.99}, [{I am frus...|</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">| The cognitive services on spark aint bad|   en-US| null|[{negative, null, {0.0, 0.01, 0.99}, [{The cogn...|</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">+-----------------------------------------+--------+-----+--------------------------------------------------+</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Congratulations! You successfully authored and ran a .NET for SynapseML app.
Refer to the <a href="https://mmlspark.blob.core.windows.net/docs/0.10.1/dotnet/index.html" target="_blank" rel="noopener noreferrer">developer docs</a> for API guidance.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="next">Next<a class="hash-link" href="#next" title="Direct link to heading">​</a></h2><ul><li>Refer to this <a href="https://docs.microsoft.com/en-us/dotnet/spark/tutorials/databricks-deployment" target="_blank" rel="noopener noreferrer">tutorial</a> for deploying a .NET app to Databricks.</li><li>You could download compatible <a href="https://mmlspark.blob.core.windows.net/publicwasb/dotnet/install-worker.sh" target="_blank" rel="noopener noreferrer">install-worker.sh</a>
and <a href="https://mmlspark.blob.core.windows.net/publicwasb/dotnet/db-init.sh" target="_blank" rel="noopener noreferrer">db-init.sh</a> files needed for deployment on Databricks.</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/SynapseML/docs/0.10.1/reference/R-setup/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">R setup</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/SynapseML/docs/0.10.1/reference/SAR/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SAR Algorithm</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a><ul><li><a href="#1-install-net" class="table-of-contents__link toc-highlight">1. Install .NET</a></li><li><a href="#2-install-java" class="table-of-contents__link toc-highlight">2. Install Java</a></li><li><a href="#3-install-apache-spark" class="table-of-contents__link toc-highlight">3. Install Apache Spark</a></li><li><a href="#4-install-net-for-apache-spark" class="table-of-contents__link toc-highlight">4. Install .NET for Apache Spark</a></li><li><a href="#5-install-winutils-windows-only" class="table-of-contents__link toc-highlight">5. Install WinUtils (Windows Only)</a></li><li><a href="#6-set-dotnet_worker_dir-and-check-dependencies" class="table-of-contents__link toc-highlight">6. Set DOTNET_WORKER_DIR and check dependencies</a></li></ul></li><li><a href="#write-a-net-for-synapseml-app" class="table-of-contents__link toc-highlight">Write a .NET for SynapseML App</a><ul><li><a href="#1-create-a-console-app" class="table-of-contents__link toc-highlight">1. Create a console app</a></li><li><a href="#2-install-nuget-package" class="table-of-contents__link toc-highlight">2. Install NuGet package</a></li><li><a href="#3-write-your-app" class="table-of-contents__link toc-highlight">3. Write your app</a></li><li><a href="#4-run-your-net-app" class="table-of-contents__link toc-highlight">4. Run your .NET App</a></li></ul></li><li><a href="#next" class="table-of-contents__link toc-highlight">Next</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/SynapseML/docs/getting_started/installation/">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/SynapseML/docs/getting_started/first_example/">Getting Started</a></li><li class="footer__item"><a href="https://mmlspark.blob.core.windows.net/docs/0.11.1/pyspark/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Python API Reference</a></li><li class="footer__item"><a href="https://mmlspark.blob.core.windows.net/docs/0.11.1/scala/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Scala API Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/SynapseML/blog/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/SynapseML/videos/">Videos</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/microsoft/SynapseML" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Microsoft.</div></div></div></footer></div>
<script src="/SynapseML/assets/js/runtime~main.569bcb5b.js"></script>
<script src="/SynapseML/assets/js/main.c6c13a75.js"></script>
</body>
</html>