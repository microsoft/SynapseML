version = 3.7.17
runner.dialect = scala212

# Maximum line width
maxColumn = 120

# Align settings
align.preset = more
align.tokens.add = [
  {code = "=>", owner = "Case"},
  {code = "=", owner = "(Enumerator.Val|Defn.(Va(l|r)|Def|Type))"},
  {code = "%", owner = "Term.ApplyInfix"},
  {code = "%%", owner = "Term.ApplyInfix"}
]

# Newlines
newlines.source = keep
newlines.topLevelStatementBlankLines = [
  {blanks = 1}
]

# Rewrite rules
rewrite.rules = [
  RedundantBraces,
  RedundantParens,
  SortModifiers,
  PreferCurlyFors
]
rewrite.redundantBraces.stringInterpolation = true
rewrite.sortModifiers.order = [
  "implicit", "final", "sealed", "abstract",
  "override", "private", "protected", "lazy"
]

# Indentation
indent.main = 2
indent.callSite = 2
indent.defnSite = 2

# Docstrings
docstrings.style = Asterisk
docstrings.wrap = no

# Spaces
spaces.inImportCurlyBraces = false

# Project-specific exclusions
project.excludeFilters = [
  "target/.*",
  # Contains invalid unicode surrogate pair that breaks scalafmt parser
  "vw/src/test/scala/com/microsoft/azure/synapse/ml/vw/VerifyVowpalWabbitMurmurWithPrefix.scala"
]
